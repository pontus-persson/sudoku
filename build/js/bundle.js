webpackJsonp([0],[function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.copy=function(){return new t(this.x,this.y)},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.setVec=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.add=function(t,e){return this.x+=t,this.y+=e||t,this},t.prototype.addVec=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.sub=function(t){return this.x-=t,this.y-=t,this},t.prototype.subVec=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.mul=function(t){return this.x*=t,this.y*=t,this},t.prototype.mulVec=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.div=function(t){return this.x/=t,this.y/=t,this},t.prototype.divVec=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.toAngle=function(t){return void 0===t&&(t=!0),t?Math.atan2(this.y,this.x):Math.atan2(this.y,this.x)*(180/Math.PI)},t.prototype.fromAngle=function(t,e){return void 0===e&&(e=!0),t=e?t:t*Math.PI/180,this.x=Math.sin(t),this.y=Math.cos(t),this},t.prototype.normalize=function(){var t=this.len();0!=t&&this.div(t)},t.prototype.limit=function(t){this.len()>t&&(this.normalize(),this.mul(t))},t}();e.default=s},function(t,e,i){t.exports=i(2)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(3);window.onload=function(t){new s.default({container:"content"}).init()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),r=i(5),o=i(6),n=i(7),d=i(0),h=function(){function t(t){var e=this;this.update=function(){e.dt=Date.now()-e.lastUpdate,e.lastUpdate=Date.now()},this.render=function(){requestAnimationFrame(e.render),e.renderer.clearBoard(),e.renderer.drawBoard(e.board),e.renderer.drawHighlight(e.highlight,e.board),e.renderer.drawSelected(e.selected),e.renderer.drawText("dt: "+Math.round(100*e.dt)/100,e.renderer.canvas.width-90,30)},this.utils=new s.default(this),this.renderer=new r.default(t.container,this),this.input=new n.default(this),this.board=new o.default(this.renderer),this.board.init(),this.selected=new d.default(-1,-1)}return t.prototype.init=function(){var t=this;console.log("init game"),this.renderer.init(),this.lastUpdate=Date.now(),this.board.randomizeBoard(),setInterval(this.update,1e3/60),requestAnimationFrame(this.render),document.getElementById("solve").addEventListener("click",function(e){t.board.solveBoard(1)?console.log("solved"):alert("Abort abort, probably unsolvable")}),document.getElementById("reset").addEventListener("click",function(e){t.board.randomizeBoard()})},t.prototype.keyPress=function(t){if(this.selected.x>-1){if(t<106&&t>95){var e=t-96;this.board.tryPut(this.selected.x,this.selected.y,e)}if(t<58&&t>47){var e=t-48;this.board.tryPut(this.selected.x,this.selected.y,e)}}13===t&&(this.board.solveBoard(1)?console.log("solved"):console.log("broken")),32!==t&&46!=t||this.board.tryPut(this.selected.x,this.selected.y,0),38===t?this.selected.y=this.selected.y>0?this.selected.y-1:this.selected.y:37===t?this.selected.x=this.selected.x>0?this.selected.x-1:this.selected.x:40===t?this.selected.y=this.selected.y<8?this.selected.y+1:this.selected.y:39===t&&(this.selected.x=this.selected.x<8?this.selected.x+1:this.selected.x)},t.prototype.mouseClick=function(t){var e=Math.floor(this.input.mouse.x/this.renderer.gridSize),i=Math.floor(this.input.mouse.y/this.renderer.gridSize),s=this.board.getTile(e,i);0===t&&e<9&&i<9&&this.selected.set(e,i),2===t&&(this.highlight=s)},t}();e.default=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t){this.game=t,console.log("constructing utils ")}return t.prototype.drawVec2=function(t,e){},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=this;this.clearBoard=function(){i.ctx.resetTransform(),i.ctx.fillStyle="black",i.ctx.fillRect(0,0,i.canvas.width,i.canvas.height),i.ctx.strokeStyle="rgb(255,25,255)",i.ctx.lineWidth=3,i.ctx.strokeRect(1,1,i.boardsize-1,i.boardsize-1);for(var t=0;t<9;t++)t%3==0?(i.ctx.strokeStyle="rgb(255,25,255)",i.ctx.lineWidth=3):(i.ctx.strokeStyle="rgb(255,255,255)",i.ctx.lineWidth=1),i.ctx.beginPath(),i.ctx.moveTo(0,t*i.gridSize),i.ctx.lineTo(i.boardsize,t*i.gridSize),i.ctx.closePath(),i.ctx.stroke();for(var e=0;e<9;e++)e%3==0?(i.ctx.strokeStyle="rgb(255,25,255)",i.ctx.lineWidth=3):(i.ctx.strokeStyle="rgb(255,255,255)",i.ctx.lineWidth=1),i.ctx.beginPath(),i.ctx.moveTo(e*i.gridSize,0),i.ctx.lineTo(e*i.gridSize,i.boardsize),i.ctx.closePath(),i.ctx.stroke()},this.containerID=t,this.game=e}return t.prototype.init=function(){var t=this;this.canvas=document.createElement("canvas"),this.canvas.oncontextmenu=function(t){t.preventDefault(),t.stopPropagation()},document.getElementById(this.containerID).appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.resize(!1),window.onresize=function(e){t.resize(e)}},t.prototype.drawBoard=function(t){for(var e=0;e<9;e++)for(var i=0;i<9;i++)t.grid[e][i]>0&&this.drawText(""+t.grid[e][i],i*this.gridSize+this.gridSize/2.2,e*this.gridSize+this.gridSize/1.8)},t.prototype.drawHighlight=function(t,e){if(t)for(var i=0;i<9;i++)for(var s=0;s<9;s++)e.grid[i][s]===t&&(this.ctx.strokeStyle="rgba(25,25,255,0.5)",this.ctx.lineWidth=5,this.ctx.strokeRect(s*this.gridSize,i*this.gridSize,this.gridSize-1,this.gridSize-1))},t.prototype.drawSelected=function(t){this.ctx.strokeStyle="rgba(25,225,25,5)",this.ctx.lineWidth=3,this.ctx.strokeRect(t.x*this.gridSize,t.y*this.gridSize,this.gridSize-1,this.gridSize-1)},t.prototype.drawText=function(t,e,i){this.ctx.font="30px Arial",this.ctx.fillStyle="rgb(255,255,255)",this.ctx.fillText(t,e,i)},t.prototype.resize=function(t){console.log("resize",t),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.boardsize=Math.min(this.canvas.width,this.canvas.height),this.gridSize=this.boardsize/9},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),r=function(){function t(t){this.renderer=t}return t.prototype.init=function(){this.grid=[];for(var t=0;t<9;t++)for(var e=0;e<9;e++)void 0===this.grid[t]&&(this.grid[t]=[]),this.grid[t][e]=0},t.prototype.tryPut=function(t,e,i){this.isPossible(t,e,i)&&(this.grid[e][t]=i)},t.prototype.randomizeBoard=function(){for(var t=0;t<9;t++)for(var e=0;e<9;e++)if(Math.random()<.1){var i=Math.round(9*Math.random());this.isPossible(t,e,i)&&(this.grid[e][t]=i)}else this.grid[e][t]=0},t.prototype.solveBoard=function(t){if(t>100)return!0;var e=this.getEmptySlot();if(e.x<0)return!0;console.log("solving... depth: ",t);for(var i=[1,2,3,4,5,6,7,8,9],s=0;s<i.length;s++){var r=i[s];if(this.isPossible(e.x,e.y,r)){if(this.grid[e.y][e.x]=r,this.renderer.drawBoard(this),this.solveBoard(t+1))return!0;this.grid[e.y][e.x]=0}}return!1},t.prototype.getEmptySlot=function(){for(var t=new s.default(-1,-1),e=!1,i=0;i<9&&!e;i++)for(var r=0;r<9&&!e;r++)0===this.grid[r][i]&&(e=!0,t.set(i,r));return t},t.prototype.isPossible=function(t,e,i){if(0===i)return!0;for(var s=0;s<9;s++)if(s!==e&&this.grid[s][t]===i)return!1;for(var r=0;r<9;r++)if(r!==t&&this.grid[e][r]===i)return!1;for(var o=t-t%3,n=e-e%3,s=0;s<3;s++)for(var r=0;r<3;r++)if(this.grid[n+s][o+r]===i)return!1;return!0},t.prototype.getTile=function(t,e){return this.grid[e][t]},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(0),r=function(){function t(t){this.keysPressed={},this.keys={ctrl:17,enter:13,space:32,escape:27,"+":107,"-":109,insert:45,delete:46,home:36,end:35,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,0:58,w:87,a:65,s:83,d:68,up:38,left:37,down:40,right:39},this.buttonsPressed={},this.buttons={left:0,middle:1,right:2},this.mouse=new s.default,this.lastmouse=new s.default,this.game=t,window.addEventListener("keydown",this.keyDown.bind(this)),window.addEventListener("keyup",this.keyUp.bind(this)),window.addEventListener("mousemove",this.mouseMove.bind(this)),window.addEventListener("mousedown",this.mouseDown.bind(this)),window.addEventListener("mouseup",this.mouseUp.bind(this))}return t.prototype.keyDown=function(t){var e=t||window.event;this.keysPressed[e.keyCode]=!0,this.game.keyPress(e.keyCode)},t.prototype.keyUp=function(t){var e=t||window.event;this.keysPressed[e.keyCode]=!1},t.prototype.isKeyPressed=function(t){return!!this.keys[t]&&this.keysPressed[this.keys[t]]},t.prototype.mouseMove=function(t){this.lastmouse.setVec(this.mouse),this.mouse.set(t.pageX||t.clientX,t.pageY||t.clientY)},t.prototype.mouseDown=function(t){t.preventDefault(),this.buttonsPressed[t.button]=!0,this.game.mouseClick(t.button)},t.prototype.mouseUp=function(t){t.preventDefault(),this.buttonsPressed[t.button]=!1},t.prototype.isButtonPressed=function(t){return this.buttonsPressed[this.buttons[t]]},t}();e.default=r}],[1]);